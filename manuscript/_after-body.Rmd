<!--After-body content (Biosketches, Author contributions, Tables, Figures)-->

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  eval = TRUE,
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
```

```{r setup-tables, include=FALSE}

source(here::here("setup.R"))

# Table 1 ----------------------------------------------------------------------

data_sources <- read_csv(here::here("manuscript/data-sources.csv"))

# Table 2 ----------------------------------------------------------------------

import_objects(
  here::here("outputs/species-and-roughness/"),
  ignore_RDS = TRUE
)
species_roughness_AICc <- bind_rows(.id = "region", list(
  Cape = GCFR_models_AICc_all,
  SWA = SWAFR_models_AICc_all,
  Both = combined_models_AICc_all
))

```

\break

# Biosketches {-}

**Ruan van Mazijk** is a Masters student broadly interested in comparative biology and ...<!--TODO: finish-->

**Michael D. Cramer** <!--TODO-->

**G. Anthony Verboom** <!--TODO-->

# Author contributions {-}

MDC and GAV conceived the study question, which RVM investigated under their supervision for his BSc Hons project. The analyses and programming work were largely devised by RVM, with input from the other authors, and was carried out by RVM. RVM wrote the first draft of the manuscript and all authors contributed equally thereafter.

\break

# Tables {-}

```{r data-sources, results="asis"}
options(knitr.kable.NA = "")
data_sources %>%
  knitr::kable(
    format = "latex",
    escape = FALSE,
    booktabs = TRUE,
    caption = "(ref:data-sources)"
  ) %>%
  kableExtra::group_rows("Climatic variables", 4, 6) %>%
  kableExtra::group_rows("Soil variables (SoilGrids250m)", 7, 10) %>%
  kableExtra::kable_styling(latex_options = "hold_position")
```

```{r species-roughness-AICc, results="asis"}
species_roughness_AICc %>%
  mutate(model = case_when(
    model == "null"     ~ "Null",
    model == "full"     ~ "All",
    model == "abs"      ~ "Absolute variables",
    model == "rough"    ~ "Roughness variables",
    model == "elev"     ~ "Elevation",
    model == "non_elev" ~ "Non-elevation variables",
    model == "soil"     ~ "Soil variables",
    model == "non_soil" ~ "Non-soil variables"
  )) %>%
  mutate_if(is.numeric, function(x) {
    x %>%
      round(digits = 2) %>%
      format(digits = 3, nsmall = 2)
  }) %>%
  arrange(region, delta_AICc) %>%
  select(-region) %>%
  knitr::kable(
    escape = FALSE,
    booktabs = TRUE,
    align = c("l", "r", "r", "r"),
    col.names = c("Model predictors", "$AICc$", "$\\Delta AICc$", "$w_{AICc}$"),
    caption = "(ref:species-roughness-AICc)"
  ) %>%
  kableExtra::group_rows("Cape:", 1, 8) %>%
  kableExtra::group_rows("SWA:", 9, 16) %>%
  kableExtra::group_rows("Both:", 17, 24) %>%
  kableExtra::kable_styling(latex_options = "hold_position")
```

\break

# Figures {-}

```{r roughness, fig.pos="H", out.width="18cm", fig.cap="(ref:roughness)"}
knitr::include_graphics(here::here("figures/fig-1-roughness_manual-edit4.png"))
```

```{r richness-vs-turnover, fig.pos="H", out.width="18cm", fig.cap="(ref:richness-vs-turnover)"}
knitr::include_graphics(here::here("figures/fig-2-richness-vs-turnover.png"))
```
